# ูุธุงู ุงูุชุฑุฌูุฉ ุงูุดุงูู - ุชูุฑูุฑ ููุงุฆู

## ๐ ูุธุฑุฉ ุนุงูุฉ
ุชู ุชูููุฐ ูุธุงู ุชุฑุฌูุฉ ุดุงูู ููุชูุงูู ูููููุน ุจุงููุงูู (Backend + Frontend) ุจุงุณุชุฎุฏุงู Google Gemini Flash APIุ ูุฏุนู ุงูุชุฑุฌูุฉ ุงูุชููุงุฆูุฉ ูููุญุชูู ุงูุฏููุงูููู ูุงูุซุงุจุช.

---

## โ ูุง ุชู ุฅูุฌุงุฒู

### 1. Backend - ูุธุงู ุงูุชุฑุฌูุฉ ุงูุชููุงุฆู

#### ุฃ. ุชุฑุฌูุฉ ุงูููุงูุงุช (Articles)
- โ Migration: ุฅุถุงูุฉ `title_en` ู `content_en` ุฅูู ุฌุฏูู `articles`
- โ Service: `GeminiTranslationService` ููุชูุงุตู ูุน Gemini API
- โ Job: `TranslateContentJob` ููุนุงูุฌุฉ ุงูุชุฑุฌูุฉ ูู ุงูุฎูููุฉ
- โ Observer: `ArticleObserver` ููุชุฑุฌูุฉ ุงูุชููุงุฆูุฉ ุนูุฏ ุงูุฅูุดุงุก/ุงูุชุญุฏูุซ
- โ Command: `php artisan articles:translate` ูุชุฑุฌูุฉ ุงูููุงูุงุช ุงูููุฌูุฏุฉ
- โ Model: ุชุญุฏูุซ `Article` model ูุฅุถุงูุฉ `title_en` ู `content_en` ุฅูู `$fillable`

#### ุจ. ุชุฑุฌูุฉ ุงูุฃูุณุงู (Categories)
- โ Migration: ุฅุถุงูุฉ `name_en` ุฅูู ุฌุฏูู `categories`
- โ Job: `TranslateCategoryJob` ูุชุฑุฌูุฉ ุฃุณูุงุก ุงูุฃูุณุงู
- โ Observer: `CategoryObserver` ููุชุฑุฌูุฉ ุงูุชููุงุฆูุฉ
- โ Command: `php artisan categories:translate` ูุชุฑุฌูุฉ ุงูุฃูุณุงู ุงูููุฌูุฏุฉ
- โ Model: ุชุญุฏูุซ `Category` model ูุฅุถุงูุฉ `name_en` ุฅูู `$fillable`

#### ุฌ. ุงูุชูููู ูุงูุฅุนุฏุงุฏุงุช
- โ ููู `config/translation.php` ุดุงูู ูุฌููุน ุงูุฎูุงุฑุงุช
- โ ููู `config/services.php` ูุญุฏุซ ูุฅุนุฏุงุฏุงุช Gemini
- โ ููู `.env.example` ูุญุฏุซ ุจุฌููุน ุงููุชุบูุฑุงุช ุงููุงุฒูุฉ
- โ Observer ูุณุฌู ูู `AppServiceProvider`

---

### 2. Frontend - ูุธุงู ุชุนุฏุฏ ุงููุบุงุช

#### ุฃ. ุฅุนุฏุงุฏ i18n
- โ ุชุซุจูุช `@nuxtjs/i18n`
- โ ุชูููู `nuxt.config.ts` ููุบุงุช ุงูุนุฑุจูุฉ ูุงูุฅูุฌููุฒูุฉ
- โ ุฅูุดุงุก ูููุงุช ุงูุชุฑุฌูุฉ:
  - `i18n/locales/ar.json` - ุงููุตูุต ุงูุนุฑุจูุฉ
  - `i18n/locales/en.json` - ุงููุตูุต ุงูุฅูุฌููุฒูุฉ
- โ ุฅูุดุงุก `i18n.config.ts` ููุฎูุงุฑุงุช ุงูุฅุถุงููุฉ

#### ุจ. ูุงุฌูุฉ ุงููุณุชุฎุฏู
- โ ูููู `LanguageSwitcher.vue` - ุฒุฑ ุชุจุฏูู ุงููุบุฉ ูู ุงูููุฏุฑ
- โ ุชุญุฏูุซ `app.vue` ูุชุบููุฑ ุงูุงุชุฌุงู (RTL/LTR) ุฏููุงููููุงู
- โ ุชุญุฏูุซ `Header.vue` ูุชุฑุฌูุฉ ุฌููุน ุงููุตูุต ุงูุซุงุจุชุฉ
- โ ุชุญุฏูุซ `Footer.vue` ูุชุฑุฌูุฉ ุฌููุน ุงููุตูุต ุงูุซุงุจุชุฉ

#### ุฌ. ุนุฑุถ ุงููุญุชูู ุงููุชุฑุฌู
- โ Composable: `useLocalizedContent.ts` - ููุชุนุงูู ูุน ุงููุญุชูู ุงููุชุฑุฌู
- โ ุชุญุฏูุซ `pages/news/[slug].vue` ูุนุฑุถ ุงูุนููุงู ูุงููุญุชูู ุงููุชุฑุฌู
- โ ุชุญุฏูุซ `Header.vue` ูุนุฑุถ ุฃุณูุงุก ุงูุฃูุณุงู ุงููุชุฑุฌูุฉ
- โ ุชุญุฏูุซ `Footer.vue` ูุนุฑุถ ุฃุณูุงุก ุงูุฃูุณุงู ุงููุชุฑุฌูุฉ
- โ ุฏุนู LTR/RTL ูู ุชูุณูู ุงููุญุชูู

---

## ๐ง ุงูุฃูุงูุฑ ุงููููุฉ

### Backend
```bash
# ุชุดุบูู Migration
php artisan migrate

# ุชุฑุฌูุฉ ุงูููุงูุงุช ุงูููุฌูุฏุฉ
php artisan articles:translate

# ุชุฑุฌูุฉ ุงูุฃูุณุงู ุงูููุฌูุฏุฉ
php artisan categories:translate --force

# ุชุดุบูู Queue Worker (ุถุฑูุฑู!)
php artisan queue:work
```

### Frontend
```bash
# ุชุซุจูุช ุงูุชุจุนูุงุช
npm install

# ุชุดุบูู ุฎุงุฏู ุงูุชุทููุฑ
npm run dev

# ุฅุนุงุฏุฉ ุฅูุดุงุก Types
npx nuxi prepare
```

---

## ๐ ุงููููุงุช ุงูุฑุฆูุณูุฉ

### Backend
```
backend/
โโโ app/
โ   โโโ Services/
โ   โ   โโโ GeminiTranslationService.php
โ   โโโ Jobs/
โ   โ   โโโ TranslateContentJob.php
โ   โ   โโโ TranslateCategoryJob.php
โ   โโโ Observers/
โ   โ   โโโ ArticleObserver.php
โ   โ   โโโ CategoryObserver.php
โ   โโโ Console/Commands/
โ   โ   โโโ TranslateExistingArticles.php
โ   โ   โโโ TranslateExistingCategories.php
โ   โโโ Providers/
โ       โโโ AppServiceProvider.php
โโโ config/
โ   โโโ translation.php
โ   โโโ services.php
โโโ database/migrations/
โ   โโโ 2025_11_20_000000_add_english_translation_columns_to_articles_table.php
โ   โโโ 2025_11_20_000001_add_english_translation_to_categories_table.php
โโโ .env.example
```

### Frontend
```
frontend/
โโโ components/
โ   โโโ LanguageSwitcher.vue
โ   โโโ layout/
โ       โโโ Header.vue
โ       โโโ Footer.vue
โโโ composables/
โ   โโโ useLocalizedContent.ts
โโโ i18n/
โ   โโโ locales/
โ       โโโ ar.json
โ       โโโ en.json
โโโ pages/
โ   โโโ news/
โ       โโโ [slug].vue
โโโ i18n.config.ts
โโโ nuxt.config.ts
โโโ app.vue
```

---

## โ๏ธ ุงููุชุบูุฑุงุช ุงูุจูุฆูุฉ ุงููุทููุจุฉ

ุฃุถู ูุฐู ุงููุชุบูุฑุงุช ุฅูู `.env`:

```env
# Google Gemini AI
GEMINI_API_KEY=your-api-key-here
GEMINI_BASE_URL=https://generativelanguage.googleapis.com/v1beta
GEMINI_MODEL=gemini-flash-latest

# Translation System
TRANSLATION_ENABLED=true
TRANSLATION_AUTO_ON_CREATE=true
TRANSLATION_AUTO_ON_UPDATE=true
TRANSLATION_SOURCE_LANG=ar
TRANSLATION_TARGET_LANG=en
TRANSLATION_QUEUE_CONNECTION=database
TRANSLATION_QUEUE_NAME=translations
TRANSLATION_QUEUE_TRIES=3
TRANSLATION_QUEUE_BACKOFF=60
TRANSLATION_QUEUE_TIMEOUT=120
TRANSLATION_LOGGING=true
```

---

## ๐ฏ ููููุฉ ุงูุงุณุชุฎุฏุงู

### ูููุญุชูู ุงูุฌุฏูุฏ
1. ุฃูุดุฆ ููุงูุงู ุฌุฏูุฏุงู โ **ููุชุฑุฌู ุชููุงุฆูุงู ูู ุงูุฎูููุฉ**
2. ุฃูุดุฆ ูุณูุงู ุฌุฏูุฏุงู โ **ููุชุฑุฌู ุชููุงุฆูุงู ูู ุงูุฎูููุฉ**
3. ุนุฏูู ููุงูุงู โ **ููุนุงุฏ ุชุฑุฌูุชู ุชููุงุฆูุงู ุฅุฐุง ุชุบูุฑ ุงูุนููุงู/ุงููุญุชูู**

### ูููุญุชูู ุงูููุฌูุฏ
```bash
# ุชุฑุฌูุฉ ุฌููุน ุงูููุงูุงุช
php artisan articles:translate

# ุชุฑุฌูุฉ ุฌููุน ุงูุฃูุณุงู
php artisan categories:translate

# ุฅุนุงุฏุฉ ุชุฑุฌูุฉ ุญุชู ูู ูุงูุช ูุชุฑุฌูุฉ
php artisan articles:translate --force
php artisan categories:translate --force
```

### ูู Frontend
1. ุงููุณุชุฎุฏู ููุชุญ ุงููููุน โ **ูุฑู ุงููุบุฉ ุงูุงูุชุฑุงุถูุฉ (ุงูุนุฑุจูุฉ)**
2. ูููุฑ ุนูู ุฒุฑ ุงููุบุฉ โ **ูุฎุชุงุฑ ุงูุฅูุฌููุฒูุฉ**
3. ุงูุตูุญุฉ ุชุชุญูู ุฅูู:
   - **LTR** (ูู ุงููุณุงุฑ ูููููู)
   - **ุงููุญุชูู ุงููุชุฑุฌู** (ุนูุงูููุ ูุญุชููุ ุฃุณูุงุก ุฃูุณุงู)
   - **ุงููุตูุต ุงูุซุงุจุชุฉ ุจุงูุฅูุฌููุฒูุฉ** (ููุงุฆูุ ุฃุฒุฑุงุฑุ footer)

---

## ๐ ุขููุฉ ุงูุนูู

### Backend Flow
```
1. ุฅูุดุงุก/ุชุญุฏูุซ ููุงู/ูุณู
   โ
2. Observer ููุชุดู ุงูุชุบููุฑ
   โ
3. ููุถูู Job ุฅูู Queue
   โ
4. Queue Worker ูุนุงูุฌ Job
   โ
5. GeminiTranslationService ูุชุฑุฌู
   โ
6. ุชุญุฏูุซ ูุงุนุฏุฉ ุงูุจูุงูุงุช ุจุงูุชุฑุฌูุฉ
```

### Frontend Flow
```
1. ุงููุณุชุฎุฏู ูุบูุฑ ุงููุบุฉ
   โ
2. locale ูุชุบูุฑ ูู i18n
   โ
3. app.vue ูุญุฏุซ htmlAttrs (lang, dir)
   โ
4. useLocalizedContent ูุฎุชุงุฑ ุงููุญุชูู ุงูุตุญูุญ
   โ
5. Components ุชุนุฑุถ ุงููุญุชูู ุงููุชุฑุฌู
```

---

## ๐ ุงูุฅุญุตุงุฆูุงุช

- **ุงูููุงูุงุช ุงููุชุฑุฌูุฉ**: ุณูุชู ุญุณุงุจูุง ุจุนุฏ ุชุดุบูู Queue Worker
- **ุงูุฃูุณุงู ุงููุชุฑุฌูุฉ**: 20 ูุณู ุชูุช ุฅุถุงูุชูุง ุฅูู Queue
- **ุงููุตูุต ุงูุซุงุจุชุฉ ุงููุชุฑุฌูุฉ**: ~40 ููุชุงุญ ุชุฑุฌูุฉ
- **ุงููููุงุช ุงููุนุฏูุฉ**: ~25 ููู
- **ุงููููุงุช ุงูุฌุฏูุฏุฉ**: ~15 ููู

---

## โ๏ธ ููุงุญุธุงุช ูููุฉ

1. **Queue Worker ุถุฑูุฑู**: ูุฌุจ ุฃู ูููู `php artisan queue:work` ูุนูู ุฏุงุฆูุงู
2. **Gemini API Key**: ุชุฃูุฏ ูู ุตูุงุญูุฉ ุงูููุชุงุญ
3. **MySQL**: ุชุฃูุฏ ูู ุชุดุบูู MySQL ูู XAMPP
4. **ุงูุชูููุฉ**: Gemini Flash ูุฌุงูู ููู ูู ุญุฏูุฏ ุงุณุชุฎุฏุงู
5. **ุงูุชุฑุฌูุฉ ุชุญุตู ูุฑุฉ ูุงุญุฏุฉ**: ูุง ูุชู ุฅุนุงุฏุฉ ุงูุชุฑุฌูุฉ ุฅูุง ุนูุฏ ุงูุชุญุฏูุซ ุฃู ุงุณุชุฎุฏุงู `--force`

---

## ๐ ุงูุฎุทูุงุช ุงูุชุงููุฉ (ุงุฎุชูุงุฑูุฉ)

1. ุชุฑุฌูุฉ ููุงุฐุฌ ุฃุฎุฑู (Writers, Videos, ุฅูุฎ)
2. ุฅุถุงูุฉ ูุบุงุช ุฅุถุงููุฉ (ุงููุฑูุณูุฉุ ุงูุฅุณุจุงููุฉุ ุฅูุฎ)
3. ุชุญุณูู ุงูุชุฑุฌูุฉ ุจู Context ุฃูุถู
4. ุฅุถุงูุฉ Cache ููุชุฑุฌูุงุช
5. ุฅูุดุงุก Dashboard ูุฅุฏุงุฑุฉ ุงูุชุฑุฌูุงุช

---

## ๐ ุงูุฏุนู

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุฃูุฏ ูู ุชุดุบูู Queue Worker
2. ุฑุงุฌุน Logs ูู `storage/logs/laravel.log`
3. ุชุญูู ูู `.env` ูุงููุชุบูุฑุงุช
4. ุฑุงุฌุน ุงููุซุงุฆู ูู `TRANSLATION_SYSTEM.md`

---

**ุชู ุงูุฅูุฌุงุฒ ุจูุฌุงุญ! ๐**

ุงููุธุงู ุงูุขู ุฌุงูุฒ ููุนูู ุจุดูู ูุงูู ูุน ุชุฑุฌูุฉ ุชููุงุฆูุฉ ูููุญุชูู ุงูุฏููุงูููู ูุงูุซุงุจุช.
